import{r as reactExports}from"./index.DhYZZe0J.js";import{s as styles}from"./Ease_module.88ee4c48.DdJqKbV4.js";var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(e,i,s){var r,h={},a=null,t=null;s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),i.ref!==void 0&&(t=i.ref);for(r in i)m.call(i,r)&&!p.hasOwnProperty(r)&&(h[r]=i[r]);if(e&&e.defaultProps)for(r in i=e.defaultProps,i)h[r]===void 0&&(h[r]=i[r]);return{$$typeof:k,type:e,key:a,ref:t,props:h,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;let Direction=function(e){return e.Forward="forward",e.Reverse="reverse",e.Alternate="alternate",e.AlternateReverse="alternate-reverse",e}({}),AnimationTiming=function(e){return e.AfterPrevious="after-previous",e.WithPrevious="with-previous",e.FromStart="from-start",e}({}),Event=function(e){return e.Play="play",e.Resume="resume",e.Pause="pause",e.Stop="stop",e.Complete="complete",e.Repeat="repeat",e}({});function createAnimations(e){return e}class EventManager{#n=Object.assign({});#t=null;#i=null;#e=null;#s=null;#r=null;#o=null;#u(i,s){return this.#n[i]?this.#n[i].delete(s):!1}on(i,s){return this.#n[i]||(this.#n[i]=new Set),this.#n[i].add(s),()=>this.#u(i,s)}once(i,s){const r=this.on(i,()=>{s(),r()});return()=>this.#u(i,s)}emit(i){if(this.#n[i]){if(this.#n[i].forEach(s=>s()),i===Event.Play){this.#t?.(),this.#t=null;return}if(i===Event.Resume){this.#i?.(),this.#i=null;return}if(i===Event.Pause){this.#e?.(),this.#e=null;return}if(i===Event.Complete){this.#r?.(),this.#r=null;return}if(i===Event.Repeat){this.#o?.(),this.#o=null;return}i===Event.Stop&&(this.#s?.(),this.#s=null)}}clear(){this.#n=Object.assign({})}onPlayAsync(){if(this.#t===null)return new Promise(i=>{this.#t=i})}onResumeAsync(){if(this.#i===null)return new Promise(i=>{this.#i=i})}onPauseAsync(){if(this.#e===null)return new Promise(i=>{this.#e=i})}onStopAsync(){if(this.#s===null)return new Promise(i=>{this.#s=i})}onCompleteAsync(){if(this.#r===null)return new Promise(i=>{this.#r=i})}onRepeatAsync(){if(this.#o===null)return new Promise(i=>{this.#o=i})}}function isValidNumber(e){return typeof e=="number"&&!Number.isNaN(e)&&Number.isFinite(e)}function percentageStringToNumber(e){const i=parseFloat(e);return isValidNumber(i)?i/100:0}function normalizePercentage(e){return e<0?0:e>1?1:e}function clamp(e,i,s){return e<i?i:e>s?s:e}function extendObject(e){const i=e;for(var s=arguments.length,r=new Array(s>1?s-1:0),h=1;h<s;h++)r[h-1]=arguments[h];for(let a=0;a<r.length;a++){const t=r[a];for(const d in t)i[d]=t[d]}return i}class Animation{#n;#t;#i;#e;#s;#r;#o;#u;#y=0;#h;#a=0;#c=0;#f=0;#p=!1;#d=!1;#l;#g;#m;#_(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.001;return Math.abs(this.#a-i)<s}#A(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5;return Math.abs(this.#f-i)<s}get info(){return{name:this.animationRef.name,index:this.#n,value:this.#r,progress:this.#a,overallProgress:this.#c,elapsedTime:this.#f,isFinished:this.#p,delayCount:this.#u,playCount:this.#h,isPlaying:this.#d,isProgressAt:this.#_.bind(this),isTimeAt:this.#A.bind(this)}}constructor(i,s,r){this.#n=r,this.animationRef=i,this.#m=s,this.Setup()}Setup(){this.#g=isAlternateDirection(this.animationRef.direction),this.#l=isReverseDirection(this.animationRef.direction),this.#h=0,this.#u=0,this.#s=this.#l?this.animationRef.to:this.animationRef.from,this.#r=this.#l?this.animationRef.to:this.animationRef.from,this.#o=this.#l?this.animationRef.from:this.animationRef.to;const i=this.animationRef.delayCount===0?0:this.animationRef.delay,s=this.animationRef.duration*this.animationRef.playCount+i*this.animationRef.delayCount;switch(this.#n===0?AnimationTiming.FromStart:this.animationRef.timing){case AnimationTiming.FromStart:this.#t=i,this.#i=this.#t+this.animationRef.duration,this.#e=0,this.endPoint=s;break;case AnimationTiming.AfterPrevious:if(!this.#m)throw new Error("The previous animation is not defined.");this.#t=this.#m.endPoint+i,this.#i=this.#t+this.animationRef.duration,this.#e=this.#m.endPoint,this.endPoint=this.#e+s;break;case AnimationTiming.WithPrevious:if(!this.#m)throw new Error("The previous animation is not defined.");this.#t=this.#m.#e+i,this.#i=this.#t+this.animationRef.duration,this.#e=this.#m.#e,this.endPoint=this.#e+s;break}}Update(i){if(this.animationRef.playCount!==0){if(i>=this.endPoint){this.#d=!1,this.#p=!0,this.#h=this.animationRef.playCount,this.#u=this.animationRef.delayCount,this.#a=1,this.#c=1,this.#f=this.endPoint-this.#e,this.#r=this.animationRef.direction===Direction.Reverse||this.animationRef.direction===Direction.Alternate?this.animationRef.from:this.animationRef.to;return}if(i<this.#e){this.#d=!1,this.#p=!1,this.#h=0,this.#u=0,this.#a=0,this.#c=0,this.#f=0,this.#r=this.#l?this.animationRef.to:this.animationRef.from;return}this.#d=!0,this.#c=normalizePercentage((i-this.#e)/(this.endPoint-this.#e)),this.#P(i)}}Set(i){extendObject(this.animationRef,i),validateAnimationValues(this.animationRef)}#P(i){const s=this.animationRef.delayCount,r=this.animationRef.duration,h=r*(this.animationRef.playCount-s),a=this.animationRef.duration+this.animationRef.delay,t=a*s+this.animationRef.delay*s,o=(t+h)*this.#c;if(t&&o<=t){const u=clamp(Math.floor(o/a),0,s-1),A=s===0?0:this.animationRef.delay;this.#u=u+1,this.#h=u+1,this.#t=this.#e+a*u+A}else{const u=o-t,A=s+clamp(Math.floor(u/r),0,this.animationRef.playCount-1);this.#u=s,this.#h=A+1,this.#t=this.#e+t+r*(A-s)}this.#i=this.#t+this.animationRef.duration,this.#f=i-this.#t,this.#a=normalizePercentage(this.#f/(this.#i-this.#t));const _=this.#R();this.#r=this.#s+(this.#o-this.#s)*this.animationRef.ease(_)}#R(){if(!this.#g)return this.#a;const i=(this.#a<=.5?this.#a:this.#a-.5)*2;return this.#y=this.#a<=.5?0:1,this.#y===0?(this.#s=this.#l?this.animationRef.to:this.animationRef.from,this.#o=this.#l?this.animationRef.from:this.animationRef.to,i):(this.#s=this.#l?this.animationRef.from:this.animationRef.to,this.#o=this.#l?this.animationRef.to:this.animationRef.from,i)}}const defaultValues={from:0,duration:350,delay:0,delayCount:1,playCount:1,direction:Direction.Forward,timing:AnimationTiming.AfterPrevious,ease:e=>e};function isAlternateDirection(e){return e===Direction.Alternate||e===Direction.AlternateReverse}function isReverseDirection(e){return e===Direction.Reverse||e===Direction.AlternateReverse}function validateAnimationValues(e){if(!e.name)throw new Error("Animation `name` is required");if(typeof e.to!="number")throw new Error("The `to` value is required");if(typeof e.duration=="number"&&e.duration<0)throw new Error("The `duration` value cannot be a negative value.");if(typeof e.playCount=="number"&&e.playCount<0)throw new Error("The `playCount` value cannot be a negative value.");if(typeof e.delayCount=="number"&&e.delayCount<0)throw new Error("The `delayCount` value cannot be a negative value.");if(typeof e.playCount=="number"&&typeof e.delayCount=="number"&&e.delayCount>e.playCount)throw new Error("The `delayCount` value cannot be greater than the `playCount` value.")}function setDefaultValues(e,i,s){const r=P=>typeof P=="function"?P(s):P,h=r(e.from)??i.from??defaultValues.from,a=r(e.duration)??i.duration??defaultValues.duration,t=r(e.delay)??i.delay??defaultValues.delay,d=r(e.playCount)??i.playCount??defaultValues.playCount,o=typeof t=="number"?r(e.delayCount)??i.delayCount??d:0,_=r(e.direction)??i.direction??defaultValues.direction,u=r(e.timing)??i.timing??defaultValues.timing;return{name:e.name,to:e.to,from:h,duration:a,delay:t,playCount:d,delayCount:o,direction:_,timing:u,ease:e.ease??i.ease??defaultValues.ease}}function prepareAnimationsValues(e,i){const s=[];for(let r=0;r<e.length;r++){const h=e[r],a=setDefaultValues(h,i,r);r===0&&(a.timing=AnimationTiming.FromStart),validateAnimationValues(a),s.push(a)}return s}function prepareTimelineValues(e){return e.timelinePlayCount===0&&console.warn("The `timelinePlayCount` with the value `0` will make the timeline not play."),{timelinePlayCount:e.timelinePlayCount??1,autoPlay:e.autoPlay??!0}}function calculateTimeline(e){const i=[];for(let s=0;s<e.length;s++){const r=e[s],h=i[s-1];if(s===0&&r.timing!==AnimationTiming.FromStart)throw new Error(`The timing value in the first animation must be "${AnimationTiming.FromStart}".`);i.push(new Animation(r,h,s))}return i}function calculateTimelineDuration(e){const i=Math.max(...e.map(s=>s.endPoint));return i===1/0?Number.MAX_SAFE_INTEGER:i}function timeline(e,i){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=prepareTimelineValues(s),h=prepareAnimationsValues(e,s),a=new EventManager,t={__startTime:0,__pauseTime:0,__lastFrameTime:0,__animations:[],__requestAnimationId:null,__startProgress:0,progress:0,duration:0,elapsedTime:0,isPlaying:!1,isPaused:!1,isFinished:!1,isFirstFrame:!0,playCount:1,fps:60,isProgressAt(c){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.001;return Math.abs(this.progress-c)<y},isTimeAt(c){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5;return Math.abs(this.elapsedTime-c)<y}};t.__animations=calculateTimeline(h),t.duration=calculateTimelineDuration(t.__animations);const d={isRegistered:!1,hiddenTime:0,add(){this.isRegistered||(document.addEventListener("visibilitychange",this.handle),this.isRegistered=!0)},remove(){document.removeEventListener("visibilitychange",this.handle),this.isRegistered=!1},handle(){if(document.visibilityState==="hidden"){d.hiddenTime=performance.now();return}document.visibilityState==="visible"&&(t.__startTime+=performance.now()-d.hiddenTime,d.hiddenTime=0)}},o=Object.create(null);o.length=e.length;const _=(c,y)=>{t.elapsedTime=c-t.__startTime+t.__startProgress*t.duration,t.progress=normalizePercentage(t.elapsedTime/t.duration),t.fps=Math.round(1e3/(c-t.__lastFrameTime||16.66)),t.__lastFrameTime=c;for(let g=0;g<t.__animations.length;g++){const C=t.__animations[g];C.Update(t.elapsedTime);const R=C.info;o[R.name]=R,o[R.index]=R}if(t.progress!==1){if(i(o,t),y)return;t.__requestAnimationId=requestAnimationFrame(_);return}if(t.playCount===r.timelinePlayCount){t.isFinished=!0,t.isPlaying=!1,d.remove(),i(o,t),a.emit(Event.Complete),t.__requestAnimationId=null;return}y||(i(o,t),a.emit(Event.Repeat),t.__requestAnimationId=requestAnimationFrame(g=>{t.__startTime=g,t.__lastFrameTime=g,t.playCount++,t.__startProgress=0,_(g)}))},u=function(c){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(r.timelinePlayCount===0||y===0){console.warn("[seek] Cannot seek the timeline because the `playCount` is set to 0.");return}if(r.timelinePlayCount>0&&typeof y=="number"&&y>r.timelinePlayCount){console.warn("[seek] Cannot seek the timeline because the param `playCount` is greater than the `timelinePlayCount`.");return}if(t.duration===0){console.warn("[seek] Cannot seek the timeline because the `duration` is 0.");return}if(typeof c=="number"&&(c<0&&(c=0,console.warn("[seek] The `startFrom` param cannot be a negative value.")),c>t.duration&&(c=t.duration,console.warn("[seek] The `startFrom` param cannot be greater than the duration of the timeline.")),c=clamp(c/t.duration,0,1)),typeof c=="string"&&(c=percentageStringToNumber(c),c<0&&(c=0,console.warn("[seek] The `startFrom` param cannot be a negative percentage.")),c>1&&(c=1,console.warn("[seek] The `startFrom` param percentage cannot be greater than 1."))),t.isPlaying){const g=performance.now();t.__startTime=g,t.__lastFrameTime=g}t.playCount=y,t.__startProgress=c},A=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;t.isPlaying&&t.__requestAnimationId!==null&&(cancelAnimationFrame(t.__requestAnimationId),t.__requestAnimationId=null),u(c,y),t.__requestAnimationId=requestAnimationFrame(g=>{t.__startTime=g,t.__lastFrameTime=g,t.progress=t.__startProgress,t.isPlaying=t.progress!==1,t.isFinished=t.progress===1,t.isPaused=!1,t.isFirstFrame=!0,d.add(),a.emit(Event.Play),_(g),t.isFirstFrame=!1})},P=()=>{if(t.isPlaying&&t.__requestAnimationId!==null){console.warn("[playOneFrame] The timeline is already playing.");return}const c=performance.now();t.__startTime=c,t.__lastFrameTime=c,t.progress=t.__startProgress,t.isPlaying=!1,t.isFinished=t.progress===1,t.isPaused=!1,t.isFirstFrame=!1,_(c,!0)},v=()=>{if(!t.isPlaying){console.warn("[pause] The timeline is not playing.");return}if(t.isPaused){console.warn("[pause] The timeline is already paused.");return}if(!t.__requestAnimationId){console.error("[pause] `__requestAnimationId` is null.");return}cancelAnimationFrame(t.__requestAnimationId),t.__requestAnimationId=null,t.__pauseTime=performance.now(),t.isPaused=!0,t.isPlaying=!1,d.remove(),a.emit(Event.Pause)},b=()=>{if(t.isPlaying){console.warn("[resume] The timeline is already playing.");return}if(!t.isPaused){console.warn("[resume] The timeline is not paused, playing from the start."),A();return}t.__startTime+=performance.now()-t.__pauseTime,t.__pauseTime=0,t.isPaused=!1,t.isPlaying=!0,d.add(),a.emit(Event.Resume),t.__requestAnimationId=requestAnimationFrame(_)},w=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.duration,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.timelinePlayCount;t.isPlaying&&t.__requestAnimationId!==null&&(cancelAnimationFrame(t.__requestAnimationId),t.__requestAnimationId=null,t.isPlaying=!1),u(c,y),P(),a.emit(Event.Stop)},T=c=>{for(let y=0;y<c.length;y++){const g=c[y];if(!g.name)throw new Error("[updateValues] Animation name is required.");const C=t.__animations.find(R=>R.animationRef.name===g.name);if(!C)throw new Error(`[updateValues] Animation with name '${g.name}' not found.`);C.Set(g)}for(let y=0;y<o.length;y++)t.__animations[y].Setup();t.duration=calculateTimelineDuration(t.__animations)};return r.autoPlay&&A(),{timelineInfo:t,animationsInfo:o,updateValues:T,play:A,playOneFrame:P,resume:b,pause:v,stop:w,seek:u,on:a.on.bind(a),once:a.once.bind(a),onCompleteAsync:a.onCompleteAsync.bind(a),onPlayAsync:a.onPlayAsync.bind(a),onResumeAsync:a.onResumeAsync.bind(a),onPauseAsync:a.onPauseAsync.bind(a),onStopAsync:a.onStopAsync.bind(a),onRepeatAsync:a.onRepeatAsync.bind(a),clearEvents:a.clear.bind(a)}}function group(e,i){if(typeof e.to>"u")throw new Error("[group] The `to` value is required");e.to=typeof e.to=="number"?[e.to]:e.to;const s=e.to.length,r=u=>typeof u=="number",h=u=>typeof u=="object"&&!Array.isArray(u),a=u=>typeof u=="object"&&!Array.isArray(u),t=u=>typeof u=="function",d=u=>new Array(s).fill(u),o={to:e.to,from:r(e.from)?d(e.from):e.from,delay:r(e.delay)?d(e.delay):e.delay,delayCount:r(e.delayCount)?d(e.delayCount):e.delayCount,playCount:r(e.playCount)?d(e.playCount):e.playCount,direction:h(e.direction)?d(e.direction):e.direction,timing:a(e.timing)?d(e.timing):e.timing,duration:r(e.duration)?d(e.duration):e.duration,ease:t(e.ease)?d(e.ease):e.ease},_=new Array(s);for(let u=0;u<s;u++)_[u]={name:u.toString(),to:o.to[u],from:Array.isArray(o.from)?o.from[u]:o.from,delay:Array.isArray(o.delay)?o.delay[u]:o.delay,delayCount:Array.isArray(o.delayCount)?o.delayCount[u]:o.delayCount,playCount:Array.isArray(o.playCount)?o.playCount[u]:o.playCount,direction:Array.isArray(o.direction)?o.direction[u]:o.direction,timing:u===0?AnimationTiming.FromStart:Array.isArray(o.timing)?o.timing[u]:o.timing,duration:Array.isArray(o.duration)?o.duration[u]:o.duration,ease:Array.isArray(o.ease)?o.ease[u]:o.ease};return timeline(_,i,{autoPlay:e.autoPlay,timelinePlayCount:e.timelinePlayCount})}function single(e,i){const s=typeof e.playCount=="number"&&e.playCount<0,r=[{...e,name:"single",playCount:s?1:e.playCount}],h={autoPlay:e.autoPlay??!0,timelinePlayCount:s?-1:1},a=timeline(r,o=>i(o[0]),h),t=a.updateValues;return extendObject(a,{updateValues:o=>t([{name:"single",...o}]),animationsInfo:a.animationsInfo[0]})}function animare(e,i){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return timeline(e,i,s)}animare.timeline=timeline;animare.single=single;animare.group=group;function useAnimare(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const[s,r]=reactExports.useState();return reactExports.useEffect(()=>{s&&(s.clearEvents(),s.timelineInfo.isPlaying&&s.pause());const h=e();return r(h),()=>{h.clearEvents(),h.timelineInfo.isPlaying&&h.pause()}},i),s}function autoPause(e,i,s){const r=new IntersectionObserver(h=>{if(e)for(let a=0;a<h.length;a++)h[a].isIntersecting?e.play():e.timelineInfo.isPlaying&&e.pause()},s);return i&&r.observe(i),()=>r.disconnect()}function useAutoPause(e,i,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];const h=Array.isArray(s)?s:r;reactExports.useEffect(()=>{if(!e||!i)return;const a=Array.isArray(s)?{}:s;return autoPause(e,i,a)},[e,i,...h])}const size=200,ballRadius=5,ballColor="#f46036",lineThickness=1,lineColor="#fff";function Ease({title="Linear",padding=10,duration=2e3,easing="ease.linear"}){const canvasRef=reactExports.useRef(null),pad=padding/2+1,timeline=useAnimare(()=>{const animations=[{name:"x",from:ballRadius+pad,to:size-ballRadius-pad},{name:"y",from:size-ballRadius-pad,to:ballRadius+pad,ease:eval(easing)},{name:"empty",to:0,duration:1e3,timing:AnimationTiming.AfterPrevious}],globalOptions={autoPlay:!1,timelinePlayCount:-1,duration,timing:AnimationTiming.FromStart},ctx=canvasRef.current?.getContext("2d"),endAngle=2*Math.PI,points=[],onUpdate=(e,i)=>{if(ctx){i.progress===0&&(points.length=0),ctx.clearRect(0,0,size,size),points.push({x:e.x.value,y:e.y.value});for(let s=0;s<points.length;s++){const r=points[s],h=points[s+1]??r;ctx.beginPath(),ctx.moveTo(r.x,r.y),ctx.lineTo(h.x,h.y),ctx.strokeStyle=lineColor,ctx.lineWidth=lineThickness,ctx.stroke()}ctx.beginPath(),ctx.arc(e.x.value,e.y.value,ballRadius,0,endAngle),ctx.fillStyle=ballColor,ctx.fill()}};return animare.timeline(animations,onUpdate,globalOptions)});return useAutoPause(timeline,canvasRef.current),jsxRuntimeExports.jsxs("div",{className:styles.wrapper+" not-content",children:[jsxRuntimeExports.jsxs("div",{className:styles.container,children:[jsxRuntimeExports.jsx("div",{className:styles.frame,style:{width:size-padding,height:size-padding}}),jsxRuntimeExports.jsx("canvas",{ref:canvasRef,width:size,height:size,className:styles.canvas})]}),jsxRuntimeExports.jsx("p",{className:styles.title,children:title})]})}export{Ease as default};
