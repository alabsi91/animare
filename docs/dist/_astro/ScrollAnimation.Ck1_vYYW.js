import{u as P,j as s}from"./useAnimare.K1gqI4ev.js";import{S as i,b as g,a as j}from"./animare.0tbHUgDI.js";import{n as A,l as m}from"./lerp.Dn2k4zPe.js";import{v as H}from"./vecToColor.BgzAzDEr.js";import{r as c}from"./index.DhYZZe0J.js";import{E as R}from"./ExampleFrame.BhR4DmqM.js";import"./ExampleFrame_module.a49b6180.D0zKF7Sg.js";function w(e){const t=e.root??document,r=()=>B(e);return t.addEventListener("scroll",r,{passive:!0}),()=>t.removeEventListener("scroll",r)}function B(e){let{timeline:t,element:r,root:n=document.documentElement,axis:o=g.Vertical,start:x=i.Top,end:v=i.Bottom,startOffset:S=0,endOffset:E=0}=e;const p=o===g.Vertical,a=p?n.clientHeight:n.clientWidth,u=p?n.scrollTop:n.scrollLeft,f=h(r,n,x)+S,d=h(r,n,v)+E,y=f<=u+a,T=d<u;let l=0;if(!y)l=0;else if(T)l=1;else{const L=a-(f-d);l=A((u+a-f)/L)}t.seek(t.timelineInfo.duration*l),t.timelineInfo.isPlaying||t.playOneFrame()}function h(e,t,r){return r===i.Top?e.offsetTop-t.offsetTop:r===i.Bottom?e.offsetTop-t.offsetTop+e.offsetHeight:r===i.Left?e.offsetLeft-t.offsetLeft:r===i.Right?e.offsetLeft-t.offsetLeft+e.offsetWidth:e.offsetTop}function O(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];c.useEffect(()=>w(e),[e.timeline,...t])}function G(){const e=c.useRef(null),t=c.useRef(null),r=c.useRef(null),n=P(()=>j.single({to:1,autoPlay:!1},o=>{e.current&&(e.current.value=o.progress.toString()),!(!t.current||!r.current)&&(t.current.style.translate=`0px ${o.value*(r.current.clientHeight/2+t.current.clientHeight/2)}px`,t.current.style.letterSpacing=m(40,0,o.value)+"px",t.current.style.scale=m(.5,1,o.value).toString(),t.current.style.color=H(m([255,255,255],[244,96,54],o.value)))}),[t.current,r.current]);return O({timeline:n,root:r.current,element:t.current,start:i.Bottom,startOffset:r.current?.clientHeight/2-t.current?.clientHeight/2}),s.jsx(R,{title:"Scroll Animation",slider:e,timeline:n,children:s.jsxs("div",{ref:r,className:"animate-color-element",style:{margin:"auto",height:200,overflow:"hidden auto"},children:[s.jsx("div",{style:{height:500}}),s.jsx("h1",{ref:t,style:{textAlign:"center",margin:0,color:"var(--secondary)",whiteSpace:"nowrap"},children:"animare"}),s.jsx("div",{style:{height:500}})]})})}export{G as default};
