const __vite__fileDeps=["_astro/ui-core.F7bpO2qG.js","_astro/index.U-zhKsib.js","_astro/Tabs.astro_astro_type_script_index_0_lang.CCIyraCc.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{a as E,D as k,e as f,A as v}from"./index.U-zhKsib.js";import"./Tabs.astro_astro_type_script_index_0_lang.CCIyraCc.js";class q extends HTMLElement{constructor(){super();const t=this.querySelector("select");t&&t.addEventListener("change",s=>{s.currentTarget instanceof HTMLSelectElement&&(window.location.pathname=s.currentTarget.value)})}}customElements.define("starlight-lang-select",q);const _="modulepreload",C=function(e){return"/animare/"+e},S={},H=function(t,s,o){let d=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=i?.nonce||i?.getAttribute("nonce");d=Promise.all(s.map(l=>{if(l=C(l),l in S)return;S[l]=!0;const m=l.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${p}`))return;const n=document.createElement("link");if(n.rel=m?"stylesheet":_,m||(n.as="script",n.crossOrigin=""),n.href=l,a&&n.setAttribute("nonce",a),document.head.appendChild(n),m)return new Promise((u,r)=>{n.addEventListener("load",u),n.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${l}`)))})}))}return d.then(()=>t()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})};class I extends HTMLElement{constructor(){super();const t=this.querySelector("button[data-open-modal]"),s=this.querySelector("button[data-close-modal]"),o=this.querySelector("dialog"),d=this.querySelector(".dialog-frame"),i=r=>{("href"in(r.target||{})||document.body.contains(r.target)&&!d.contains(r.target))&&l()},a=r=>{o.showModal(),document.body.toggleAttribute("data-search-modal-open",!0),this.querySelector("input")?.focus(),r?.stopPropagation(),window.addEventListener("click",i)},l=()=>o.close();t.addEventListener("click",a),t.disabled=!1,s.addEventListener("click",l),o.addEventListener("close",()=>{document.body.toggleAttribute("data-search-modal-open",!1),window.removeEventListener("click",i)}),window.addEventListener("keydown",r=>{const h=document.activeElement instanceof HTMLElement&&(["input","select","textarea"].includes(document.activeElement.tagName.toLowerCase())||document.activeElement.isContentEditable);(r.metaKey===!0||r.ctrlKey===!0)&&r.key==="k"?(o.open?l():a(),r.preventDefault()):r.key==="/"&&!o.open&&!h&&(a(),r.preventDefault())});let m={};try{m=JSON.parse(this.dataset.translations||"{}")}catch{}const u=this.dataset.stripTrailingSlash!==void 0?r=>r.replace(/(.)\/(#.*)?$/,"$1$2"):r=>r;window.addEventListener("DOMContentLoaded",()=>{(window.requestIdleCallback||(h=>setTimeout(h,1)))(async()=>{const{PagefindUI:h}=await H(()=>import("./ui-core.F7bpO2qG.js"),__vite__mapDeps([0,1,2]));new h({element:"#starlight__search",baseUrl:"/animare",bundlePath:"/animare".replace(/\/$/,"")+"/pagefind/",showImages:!1,translations:m,showSubResults:!0,processResult:g=>{g.url=u(g.url),g.sub_results=g.sub_results.map(y=>(y.url=u(y.url),y))}})})})}}customElements.define("site-search",I);const A=document.querySelector(".logo svg"),c=document.querySelectorAll(".logoTitle span");let b=0;const w=500,M=E.single({from:1,to:.9,duration:500,direction:k.Alternate,ease:f.out.quart,autoPlay:!1},({value:e})=>{A.style.transform=`scale(${e})`}),$=E.group({to:new Array(c.length).fill([0,1]).flat(),from:e=>e%2===0?40:0,duration:1200,delay:e=>w+~~(e/2)*50,ease:new Array(c.length).fill([f.out.expo,f.linear]).flat(),timing:v.FromStart,autoPlay:!1},e=>{for(let t=0;t<e.length;t+=2)c[t/2].style.transform=`translateX(${e[t].value}px)`,c[t/2].style.opacity=e[t+1].value+""}),P=E.group({to:new Array(c.length).fill([0,1,0]).flat(),from:e=>e%3===0?-40:e%3===1?0:2,delay:e=>w+~~(e/3)*50,duration:800,ease:new Array(c.length).fill([f.out.expo,f.out.expo,f.linear]).flat(),timing:v.FromStart,autoPlay:!1},e=>{for(let t=0;t<e.length;t+=3)c[t/3].style.transform=`translateX(${e[t].value}px)`,c[t/3].style.opacity=e[t+1].value+"",c[t/3].style.filter=`blur(${e[t+2].value}px)`}),R=E.group({to:new Array(c.length).fill(1),duration:e=>1e3+e*50,delay:e=>w+e*50,ease:f.spring({mass:2,damping:12,stiffness:70,velocity:9,duration:2500}),timing:v.FromStart,autoPlay:!1},e=>c.forEach((t,s)=>t.style.transform=`scale(${e[s].value})`)),O=E.group({to:new Array(c.length*3).fill(0),from:e=>e%3===0?.55:e%3===1?1.1:180,duration:750,delay:e=>w+~~(e/3)*50,ease:f.out.expo,timing:v.FromStart,autoPlay:!1},(e,{isFirstFrame:t,isFinished:s})=>{if(t){const o=c[0].parentElement;o.style.overflow="hidden"}for(let o=0;o<e.length;o+=3)c[o/3].style.transform=`translateX(${e[o].value}em) translateY(${e[o+1].value}em) rotateZ(${e[o+2].value}deg)`;s&&c[0].parentElement.style.removeProperty("overflow")}),L=[$,P,R,O],x=()=>{L[b%L.length].play(),M.play(),b++};A.addEventListener("click",x);x();document.documentElement.setAttribute("data-theme","dark");const B="_top";class T extends HTMLElement{constructor(){super(),this._current=this.querySelector('a[aria-current="true"]'),this.minH=parseInt(this.dataset.minH||"2",10),this.maxH=parseInt(this.dataset.maxH||"3",10);const t=[...this.querySelectorAll("a")],s=n=>{if(n instanceof HTMLHeadingElement){if(n.id===B)return!0;const u=n.tagName[1];if(u){const r=parseInt(u,10);if(r>=this.minH&&r<=this.maxH)return!0}}return!1},o=n=>{if(!n)return null;const u=n;for(;n;){if(s(n))return n;for(n=n.previousElementSibling;n?.lastElementChild;)n=n.lastElementChild;const r=o(n);if(r)return r}return o(u.parentElement)},d=n=>{for(const{isIntersecting:u,target:r}of n){if(!u)continue;const h=o(r);if(!h)continue;const g=t.find(y=>y.hash==="#"+encodeURIComponent(h.id));if(g){this.current=g;break}}},i=document.querySelectorAll("main [id], main [id] ~ *, main .content > *");let a;const l=()=>{a&&a.disconnect(),a=new IntersectionObserver(d,{rootMargin:this.getRootMargin()}),i.forEach(n=>a.observe(n))};l();const m=window.requestIdleCallback||(n=>setTimeout(n,1));let p;window.addEventListener("resize",()=>{a&&a.disconnect(),clearTimeout(p),p=setTimeout(()=>m(l),200)})}set current(t){t!==this._current&&(this._current&&this._current.removeAttribute("aria-current"),t.setAttribute("aria-current","true"),this._current=t)}getRootMargin(){const t=document.querySelector("header")?.getBoundingClientRect().height||0,s=this.querySelector("summary")?.getBoundingClientRect().height||0,o=t+s+32,d=o+53,i=document.documentElement.clientHeight;return`-${o}px 0% ${d-i}px`}}customElements.define("starlight-toc",T);class D extends T{set current(t){super.current=t;const s=this.querySelector(".display-current");s&&(s.textContent=t.textContent)}constructor(){super();const t=this.querySelector("details");if(!t)return;const s=()=>{t.open=!1};t.querySelectorAll("a").forEach(o=>{o.addEventListener("click",s)}),window.addEventListener("click",o=>{t.contains(o.target)||s()}),window.addEventListener("keydown",o=>{if(o.key==="Escape"&&t.open){const d=t.contains(document.activeElement);if(s(),d){const i=t.querySelector("summary");i&&i.focus()}}})}}customElements.define("mobile-starlight-toc",D);class N extends HTMLElement{constructor(){super(),this.btn=this.querySelector("button"),this.btn.addEventListener("click",()=>this.toggleExpanded());const t=this.closest("nav");t&&t.addEventListener("keyup",s=>this.closeOnEscape(s))}setExpanded(t){this.setAttribute("aria-expanded",String(t)),document.body.toggleAttribute("data-mobile-menu-expanded",t)}toggleExpanded(){this.setExpanded(this.getAttribute("aria-expanded")!=="true")}closeOnEscape(t){t.code==="Escape"&&(this.setExpanded(!1),this.btn.focus())}}customElements.define("starlight-menu-button",N);export{H as _};
